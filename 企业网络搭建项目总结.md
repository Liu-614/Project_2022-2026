# 🌐 企业网络搭建项目总结
## 📖 目录
- [项目背景](#项目背景)
- [技术栈](#技术栈)
- [网络拓扑结构](#网络拓扑结构)
- [核心配置模块](#核心配置模块)
  - [1. 静态路由与浮动路由](#1-静态路由与浮动路由)
  - [2. OSPF 动态路由部署](#2-ospf-动态路由部署)
  - [3. VLAN 划分与 Trunk 配置](#3-vlan-划分与-trunk-配置)
  - [4. 路由重分发](#4-路由重分发)
  - [5. NAT 配置（详细描述）](#5-nat-配置详细描述)
  - [6. 安全配置](#6-安全配置)
  - [7. 网络监控](#7-网络监控)
- [项目成果与验证](#项目成果与验证)
- [心得体会](#心得体会)
---
## 📋 项目背景

本项目为“课程设计（计算机网络）”课程中的企业网络搭建实践，基于 Packet Tracer 仿真平台完成。项目旨在设计并实现一个包含总部与分部的企业网络，涵盖静态路由、动态路由协议（OSPF、RIP）、VLAN 划分、路由重分发、NAT 配置等多个网络技术模块，实现网络互通与安全加固。

## 🛠️ 技术栈
| 类别 | 技术 |
|------|------|
| 仿真平台 | Cisco Packet Tracer |
| 网络设备 | Router 2811/2620、Switch 2950T/3560 |
| 路由协议 | 静态路由、OSPF、RIPv2 |
| 网络技术 | VLAN、Trunk、NAT、路由重分发、浮动静态路由 |
| 安全配置 | ACL、端口安全、NAT、防火墙策略 |
| 监控工具 | Syslog、SNMP、ICMP 监控 |
| 终端设备 | PC、Server |
| 操作系统 | Windows 11 |
---
## 🧱 网络拓扑结构
### 总部网络
- **三层设备**：Router0、Router1、Router2、Switch0（三层交换机）
- **二层设备**：Switch1
- **VLAN 划分**：
  - VLAN 200：市场部
  - VLAN 300：销售部
  - VLAN 400：财务部
  - VLAN 500：服务器区
### 分部网络
- **路由设备**：Router3、Router4、Router5、Router7
- **交换设备**：Switch2
- **路由协议**：RIPv2
---
## 🔧 核心配置模块
### 1. 静态路由与浮动路由
#### 配置目标
实现总部与分部之间的链路冗余，在主链路故障时自动切换至备用链路。
#### 配置示例
```bash
# Router1 配置静态路由与浮动路由
Router(config)# ip route 192.168.20.0 255.255.255.0 172.16.0.10
Router(config)# ip route 192.168.20.0 255.255.255.0 172.16.0.1 120
```
#### 实验结果
- 主链路断开后，浮动路由自动生效，路由切换路径为 `R1 → R0 → R2`，保证连通性。
---
### 2. OSPF 动态路由部署
#### 配置目标
总部内部使用 OSPF 实现动态路由，所有设备位于 Area 0。
#### 配置示例
```bash
# Router0 配置 OSPF
Router(config)# router ospf 1
Router(config-router)# router-id 2.2.2.2
Router(config-router)# network 172.16.1.0 0.0.0.3 area 0
Router(config-router)# network 172.16.1.4 0.0.0.3 area 0
Router(config-router)# network 172.16.1.8 0.0.0.3 area 0
```
#### 实验结果
- OSPF 邻居关系建立正常，路由表自动更新，全网互通。
---
### 3. VLAN 划分与 Trunk 配置
#### 配置目标
将总部各部门划分至不同 VLAN，实现二层隔离与三层互通。
#### 配置示例
```bash
# Switch0 配置 VLAN 与 Trunk
Switch(config)# vlan 200
Switch(config-vlan)# exit
Switch(config)# interface fastEthernet 0/1
Switch(config-if)# switchport mode access
Switch(config-if)# switchport access vlan 200
Switch(config)# interface fastEthernet 0/10
Switch(config-if)# switchport mode trunk
Switch(config-if)# switchport trunk allowed vlan 200,300,400,500
```
#### 实验结果
- 不同 VLAN 间通过三层交换机实现互通，跨交换机同 VLAN 通信正常。
---
### 4. 路由重分发
#### 配置目标
在总部 OSPF 与分部 RIP 之间进行路由重分发，实现全网路由统一。
#### 配置示例
```bash
# Router5 配置路由重分发
Router(config)# router rip
Router(config-router)# redistribute ospf 1 metric 3
Router(config)# router ospf 1
Router(config-router)# redistribute rip subnets
```
#### 实验结果
- 总部与分部路由表互通，PC 机可跨区域通信。
---
### 5. NAT 配置（详细描述）
#### 配置目标
实现内网主机通过 NAT 访问外网，同时阻止外网主动访问内网。
#### 配置步骤
1. **定义内部与外部接口**
    ```bash
    Router2(config)# interface fastEthernet 0/0
    Router2(config-if)# ip nat inside
    Router2(config-if)# exit
    Router2(config)# interface serial 0/0/1
    Router2(config-if)# ip nat outside
    ```
2. **配置访问控制列表（ACL）定义需要转换的内网地址**
    ```bash
    Router2(config)# access-list 1 permit 192.168.2.0 0.0.0.255
    Router2(config)# access-list 1 permit 192.168.3.0 0.0.0.255
    Router2(config)# access-list 1 permit 192.168.4.0 0.0.0.255
    Router2(config)# access-list 1 permit 192.168.5.0 0.0.0.255
    ```
3. **定义 NAT 地址池**
    ```bash
    Router2(config)# ip nat pool p1 202.33.43.1 202.33.43.254 netmask 255.255.255.0
    ```
4. **建立 NAT 映射关系**
    ```bash
    Router2(config)# ip nat inside source list 1 pool p1
    ```
#### 实验结果
- 内网可正常访问外网，外网无法主动访问内网主机，NAT 转换记录正常。
---
### 6. 安全配置
#### 配置目标
通过 ACL、端口安全等策略提升网络安全性，防止未授权访问与攻击。
#### 配置示例
```bash
# 配置 ACL 禁止外部访问财务部 VLAN
Router2(config)# access-list 101 deny ip any 192.168.4.0 0.0.0.255
Router2(config)# access-list 101 permit ip any any
Router2(config)# interface fastEthernet 0/0
Router2(config-if)# ip access-group 101 in
# 交换机端口安全，限制 MAC 地址数量
Switch0(config)# interface fastEthernet 0/1
Switch0(config-if)# switchport port-security
Switch0(config-if)# switchport port-security maximum 2
Switch0(config-if)# switchport port-security violation restrict
```
#### 实验结果
- 财务部 VLAN 无法被外网访问，端口安全策略生效，防止非法设备接入。
---
### 7. 网络监控
#### 配置目标
通过 Syslog 和 SNMP 实现网络设备状态监控，及时发现网络异常。
#### 配置示例
```bash
# 配置 Syslog 服务器
Router2(config)# logging host 192.168.5.10
Router2(config)# logging trap warnings
# 配置 SNMP
Router2(config)# snmp-server community public RO
Router2(config)# snmp-server community private RW
```
#### 实验结果
- 网络设备日志可被集中收集，SNMP 监控系统可实时获取设备状态。
---
## ✅ 项目成果与验证
| 模块 | 验证方式 | 结果 |
|------|----------|------|
| 静态路由 | `tracert` 命令追踪路径 | 主备链路切换正常 |
| OSPF | 查看 OSPF 邻居与路由表 | 邻居建立成功，路由自动更新 |
| VLAN | 不同 VLAN 主机互 ping | 通信正常 |
| 路由重分发 | 查看 Router0/Router3 路由表 | 路由条目完整，跨协议互通 |
| NAT | 内网 ping 外网 IP | 可达，外网无法反向访问 |
| 安全配置 | 外网访问财务部 VLAN | 被拒绝，ACL 生效 |
| 网络监控 | Syslog/SNMP 状态查询 | 日志与状态可正常获取 |
---
## 💡 心得体会

通过本次企业网络搭建项目，我深入理解了多种路由协议的原理与配置方法，掌握了 VLAN 划分、NAT 转换、路由重分发等核心技术。在项目过程中，我不仅提升了动手实践能力，还学会了如何通过排错手段解决网络不通、路由丢失等问题。尤其是在仿真环境中反复测试、验证配置的过程，让我对网络架构的设计与优化有了更深刻的认识。

---

